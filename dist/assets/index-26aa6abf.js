import{j as e,r as i}from"./react-a77fd2f7.js";import{c as Y}from"./react-dom-ea7d9bdf.js";import{u as V,A as G}from"./@auth0-feccd30c.js";import{L as c,B as J}from"./react-router-dom-9697a25e.js";import{d as Z,e as ee,f as x,b as te}from"./react-router-8b062504.js";import{B as A,I as se,M as oe,D as ne,L as ae,a as C,b as I,c as M,T as B,d as re,e as ie,A as le,f as ce,g as de,h as me,P as ue,i as xe}from"./@mui-8614f4c2.js";import{a as w}from"./axios-439bb627.js";import{d as he}from"./react-date-range-587405f9.js";import{P as pe}from"./react-chartjs-2-a46fe568.js";import{C as ge,p as be,a as je,b as fe,A as ye}from"./chart.js-a6ea3831.js";import{a9 as f}from"./date-fns-7db3cef7.js";import"./classnames-bdcd0ee0.js";import"./scheduler-765c72db.js";import"./@remix-run-5d7bddc6.js";import"./clsx-5a9f8d06.js";import"./react-transition-group-a3d248ce.js";import"./@babel-591e0485.js";import"./@emotion-d65f2bd3.js";import"./hoist-non-react-statics-3f8ebaa8.js";import"./stylis-79144faa.js";import"./prop-types-387d7a00.js";import"./react-list-497ded3c.js";import"./shallow-equal-26ab5b7e.js";import"./@kurkle-36ca2f10.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))m(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&m(r)}).observe(document,{childList:!0,subtree:!0});function l(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function m(t){if(t.ep)return;t.ep=!0;const o=l(t);fetch(t.href,o)}})();const ve="modulepreload",we=function(d){return"/"+d},R={},g=function(a,l,m){if(!l||l.length===0)return a();const t=document.getElementsByTagName("link");return Promise.all(l.map(o=>{if(o=we(o),o in R)return;R[o]=!0;const r=o.endsWith(".css"),y=r?'[rel="stylesheet"]':"";if(!!m)for(let p=t.length-1;p>=0;p--){const j=t[p];if(j.href===o&&(!r||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${y}`))return;const h=document.createElement("link");if(h.rel=r?"stylesheet":ve,r||(h.as="script",h.crossOrigin=""),h.href=o,document.head.appendChild(h),r)return new Promise((p,j)=>{h.addEventListener("load",p),h.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>a()).catch(o=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o})};function Ne(){return e.jsx("footer",{className:"bg-gray-800 text-white py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:e.jsx("p",{className:"text-sm md:text-base lg:text-lg",children:"Â© 2024 VMS XAIBIT. All rights reserved."})})})}class ke extends i.Component{constructor(a){super(a),this.state={hasError:!1}}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,l){console.error("ErrorBoundary caught an error",a,l)}render(){return this.state.hasError?e.jsx("h1",{children:"Something went wrong."}):this.props.children}}const b=({children:d})=>{const{isAuthenticated:a,isLoading:l}=V();return l?e.jsx("div",{children:"Loading..."}):a?d:e.jsx(Z,{to:"/login-options"})},N="/assets/logo-8931d7a0.png";function S(){const[d,a]=i.useState(!1),l=()=>{window.open("/login-options","_blank")},m=()=>{a(!d)},t=()=>{a(!1)};return e.jsxs("nav",{className:"bg-white shadow-lg",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"relative flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center flex-shrink-0",children:e.jsxs("a",{href:"/",children:[e.jsx("img",{className:"block lg:hidden h-8 w-auto",src:N,alt:"Logo"}),e.jsx("img",{className:"hidden lg:block h-12 w-auto",src:N,alt:"Logo"})]})}),e.jsx("div",{className:"hidden lg:block lg:ml-6",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(c,{to:"/services",className:"text-blue-900 px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-100 transition-colors duration-300",children:"Services"}),e.jsx(c,{to:"/industry",className:"text-blue-900 px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-100 transition-colors duration-300",children:"Industry"}),e.jsx(c,{to:"/testimonials",className:"text-blue-900 px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-100 transition-colors duration-300",children:"Testimonials"}),e.jsx(c,{to:"/about",className:"text-blue-900 px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-100 transition-colors duration-300",children:"About"}),e.jsx(c,{to:"/blog",className:"text-blue-900 px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-100 transition-colors duration-300",children:"Blog"}),e.jsx(c,{to:"/contact",className:"text-blue-900 px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-100 transition-colors duration-300",children:"Contact"}),e.jsx(c,{to:"/partners",className:"text-blue-900 px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-100 transition-colors duration-300",children:"Partners"}),e.jsx(c,{to:"/book-meeting",className:"text-blue-900 px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-100 transition-colors duration-300",children:"Book a Meeting"}),e.jsx(A,{variant:"contained",color:"primary",onClick:l,className:"bg-blue-900 text-white px-3 py-2 rounded-md text-sm font-medium transform hover:scale-105 transition-transform duration-300",children:"Login"})]})}),e.jsx("div",{className:"lg:hidden",children:e.jsx("button",{onClick:m,className:"text-blue-900 focus:outline-none",children:e.jsx("svg",{className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),d&&e.jsx("div",{className:"lg:hidden",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[e.jsx(c,{to:"/services",onClick:t,className:"text-blue-900 block px-3 py-2 rounded-md text-base font-medium hover:bg-blue-100 transition-colors duration-300",children:"Services"}),e.jsx(c,{to:"/industry",onClick:t,className:"text-blue-900 block px-3 py-2 rounded-md text-base font-medium hover:bg-blue-100 transition-colors duration-300",children:"Industry"}),e.jsx(c,{to:"/testimonials",onClick:t,className:"text-blue-900 block px-3 py-2 rounded-md text-base font-medium hover:bg-blue-100 transition-colors duration-300",children:"Testimonials"}),e.jsx(c,{to:"/about",onClick:t,className:"text-blue-900 block px-3 py-2 rounded-md text-base font-medium hover:bg-blue-100 transition-colors duration-300",children:"About"}),e.jsx(c,{to:"/blog",onClick:t,className:"text-blue-900 block px-3 py-2 rounded-md text-base font-medium hover:bg-blue-100 transition-colors duration-300",children:"Blog"}),e.jsx(c,{to:"/contact",onClick:t,className:"text-blue-900 block px-3 py-2 rounded-md text-base font-medium hover:bg-blue-100 transition-colors duration-300",children:"Contact"}),e.jsx(c,{to:"/partners",onClick:t,className:"text-blue-900 block px-3 py-2 rounded-md text-base font-medium hover:bg-blue-100 transition-colors duration-300",children:"Partners"}),e.jsx(c,{to:"/book-meeting",onClick:t,className:"text-blue-900 block px-3 py-2 rounded-md text-base font-medium hover:bg-blue-100 transition-colors duration-300",children:"Book a Meeting"}),e.jsx(A,{variant:"contained",color:"primary",onClick:l,className:"bg-blue-900 text-white w-full px-3 py-2 rounded-md text-base font-medium transform hover:scale-105 transition-transform duration-300",children:"Login"})]})})]})}const De=()=>{const{isAuthenticated:d,logout:a}=V(),[l,m]=i.useState(!1),t=r=>()=>{m(r)},o=[{text:"Admin Login",path:"/AdminLoginForm",icon:e.jsx(le,{})},{text:"New Registration",path:"/new-registration",icon:e.jsx(ce,{})},{text:"Main Program",path:"/main-program",icon:e.jsx(de,{})},{text:"Data Analysis",path:"/data-analysis",icon:e.jsx(me,{})},{text:"Live Video",path:"/LiveVideo",icon:e.jsx(ue,{})},{text:"Play Back",path:"/PlayBackVideo",icon:e.jsx(xe,{})}];return e.jsx("nav",{className:"bg-white shadow-lg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(c,{to:"/",children:e.jsx("img",{className:"h-10 w-auto",src:N,alt:"Logo"})})}),d&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{edge:"start",color:"inherit","aria-label":"menu",onClick:t(!0),children:e.jsx(oe,{})}),e.jsx(ne,{anchor:"right",open:l,onClose:t(!1),children:e.jsx("div",{className:"w-64",role:"presentation",onClick:t(!1),onKeyDown:t(!1),children:e.jsxs(ae,{children:[o.map(r=>e.jsxs(C,{button:!0,component:c,to:r.path,children:[e.jsx(I,{children:r.icon}),e.jsx(M,{primary:e.jsx(B,{variant:"h6",sx:{fontWeight:500},children:r.text})})]},r.text)),e.jsx(re,{sx:{my:2}}),e.jsxs(C,{button:!0,onClick:()=>a({returnTo:window.location.origin}),children:[e.jsx(I,{children:e.jsx(ie,{})}),e.jsx(M,{primary:e.jsx(B,{variant:"h6",sx:{fontWeight:500},children:"Logout"})})]})]})})})]})]})})};ge.register(be,je,fe,ye);const Le=()=>{const[d,a]=i.useState(new Date),[l,m]=i.useState(new Date),[t,o]=i.useState({}),[r,y]=i.useState({}),[v,h]=i.useState([]),[p,j]=i.useState(null),[T,$]=i.useState(!0);i.useEffect(()=>{const s=new Date,n=new Date(s);n.setDate(s.getDate()-7),a(n),m(s),k(n,s),D(n,s)},[]);const k=async(s,n)=>{try{const u=await w.get("https://localhost:5000/data-analysis",{params:{startDate:f(s,"yyyy-MM-dd"),endDate:f(n,"yyyy-MM-dd")}});o(u.data)}catch(u){console.error("Error fetching data:",u)}},D=async(s,n)=>{try{const u=await w.get("http://localhost:5000/unknown-data-analysis",{params:{startDate:f(s,"yyyy-MM-dd"),endDate:f(n,"yyyy-MM-dd")}});y(u.data)}catch(u){console.error("Error fetching unknown data:",u)}},K=s=>{a(s.selection.startDate),m(s.selection.endDate),k(s.selection.startDate,s.selection.endDate),D(s.selection.startDate,s.selection.endDate)},L=async(s,n)=>{try{const u=n?"http://localhost:5000/known-images-by-date":"http://localhost:5000/unknown-images-by-date",P=await w.get(u,{params:{date:s}});h(P.data),j(s),$(n)}catch(u){console.error("Error fetching images:",u)}},E=Object.values(t).reduce((s,n)=>s+n,0),_=Object.values(r).reduce((s,n)=>s+n,0),U={labels:["Known Data","Unknown Data"],datasets:[{data:[E||1,_||1],backgroundColor:[E>0?"#FF6384":"#BEBEBE",_>0?"#36A2EB":"#BEBEBE"]}]},F={label:s=>{const{label:n,raw:u}=s,W=n==="Known Data"?t:r,q=u,H=Object.entries(W).map(([Q,X])=>`${Q}: ${X}`).join(", ");return`${n}: ${q} visits (${H})`}},z=`${f(d,"MMM d, yyyy")} - ${f(l,"MMM d, yyyy")}`;return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-4 text-center",children:["Data from ",z]}),e.jsxs("div",{className:"flex md:flex-row-reverse",children:[e.jsxs("div",{className:"w-full sm:w-1/2 mb-6 lg:mb-0 overflow-hidden",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2 text-center",children:"Data Distribution"}),e.jsx("div",{style:{width:"100%",height:"300px"},className:"mx-auto",children:e.jsx(pe,{data:U,options:{plugins:{tooltip:{callbacks:F}},responsive:!0,maintainAspectRatio:!1}})})]}),e.jsxs("div",{className:"w-full sm:w-1/2 mb-6 lg:mb-0 overflow-hidden",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2 text-center",children:"Select Date Range"}),e.jsx("div",{className:"mx-auto",children:e.jsx(he.DateRangePicker,{ranges:[{startDate:d,endDate:l,key:"selection"}],onChange:K,className:"w-full"})})]})]}),e.jsxs("div",{className:"lg:flex lg:space-x-8 mt-6",children:[e.jsxs("div",{className:"w-full lg:w-1/2",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Known Data Summary"}),e.jsx("ul",{className:"list-disc pl-5",children:Object.entries(t).map(([s,n])=>e.jsxs("li",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:s}),": ",n," visits",e.jsx("button",{onClick:()=>L(s,!0),className:"ml-4 text-blue-500 hover:underline",children:"View Known People"})]},s))})]}),e.jsxs("div",{className:"w-full lg:w-1/2",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Unknown Data Summary"}),e.jsx("ul",{className:"list-disc pl-5",children:Object.entries(r).map(([s,n])=>e.jsxs("li",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:s}),": ",n," visits",e.jsx("button",{onClick:()=>L(s,!1),className:"ml-4 text-blue-500 hover:underline",children:"View Unknown People"})]},s))})]})]}),v.length>0&&p&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:T?`Known People Images from ${p}`:`Unknown People Images from ${p}`}),e.jsx("div",{className:"overflow-x-scroll p-2 border rounded-md",style:{display:"flex",maxWidth:"100%",height:"auto"},children:v.map((s,n)=>e.jsx("img",{src:`data:image/jpeg;base64,${s}`,alt:`Person ${n}`,className:"w-48 h-56 object-cover mr-2"},n))})]})]})},Ee=i.lazy(()=>g(()=>import("./homepage-846b7c74.js"),["assets/homepage-846b7c74.js","assets/react-a77fd2f7.js","assets/classnames-bdcd0ee0.js"])),_e=i.lazy(()=>g(()=>import("./LoginOptions-58c78996.js"),["assets/LoginOptions-58c78996.js","assets/react-a77fd2f7.js","assets/classnames-bdcd0ee0.js","assets/@auth0-feccd30c.js","assets/react-router-8b062504.js","assets/@remix-run-5d7bddc6.js","assets/@mui-8614f4c2.js","assets/clsx-5a9f8d06.js","assets/react-transition-group-a3d248ce.js","assets/@babel-591e0485.js","assets/react-dom-ea7d9bdf.js","assets/scheduler-765c72db.js","assets/@emotion-d65f2bd3.js","assets/hoist-non-react-statics-3f8ebaa8.js","assets/stylis-79144faa.js"])),Pe=i.lazy(()=>g(()=>import("./newRegistration-4dca0cf3.js"),["assets/newRegistration-4dca0cf3.js","assets/react-a77fd2f7.js","assets/classnames-bdcd0ee0.js","assets/axios-439bb627.js","assets/react-webcam-67488e98.js","assets/react-router-8b062504.js","assets/@remix-run-5d7bddc6.js","assets/@mui-8614f4c2.js","assets/clsx-5a9f8d06.js","assets/react-transition-group-a3d248ce.js","assets/@babel-591e0485.js","assets/react-dom-ea7d9bdf.js","assets/scheduler-765c72db.js","assets/@emotion-d65f2bd3.js","assets/hoist-non-react-statics-3f8ebaa8.js","assets/stylis-79144faa.js"])),Ae=i.lazy(()=>g(()=>import("./mainProgram-e3ecee3c.js"),["assets/mainProgram-e3ecee3c.js","assets/react-a77fd2f7.js","assets/classnames-bdcd0ee0.js"])),Ce=i.lazy(()=>g(()=>import("./BigdataAnalysis-f4d2777f.js"),["assets/BigdataAnalysis-f4d2777f.js","assets/react-a77fd2f7.js","assets/classnames-bdcd0ee0.js","assets/axios-439bb627.js","assets/react-datepicker-35e5273d.js","assets/clsx-5a9f8d06.js","assets/date-fns-7db3cef7.js","assets/@floating-ui-75f4e504.js","assets/react-dom-ea7d9bdf.js","assets/scheduler-765c72db.js","assets/react-datepicker-e4868022.css","assets/react-chartjs-2-a46fe568.js","assets/chart.js-a6ea3831.js","assets/@kurkle-36ca2f10.js"])),Ie=i.lazy(()=>g(()=>import("./AdminLoginForm-713c4b1f.js"),["assets/AdminLoginForm-713c4b1f.js","assets/react-a77fd2f7.js","assets/classnames-bdcd0ee0.js","assets/axios-439bb627.js","assets/@mui-8614f4c2.js","assets/clsx-5a9f8d06.js","assets/react-transition-group-a3d248ce.js","assets/@babel-591e0485.js","assets/react-dom-ea7d9bdf.js","assets/scheduler-765c72db.js","assets/@emotion-d65f2bd3.js","assets/hoist-non-react-statics-3f8ebaa8.js","assets/stylis-79144faa.js"])),Me=i.lazy(()=>g(()=>import("./PlackbackVideo-6b02ec15.js"),["assets/PlackbackVideo-6b02ec15.js","assets/react-a77fd2f7.js","assets/classnames-bdcd0ee0.js","assets/jszip-88f1a5d7.js","assets/@mui-8614f4c2.js","assets/clsx-5a9f8d06.js","assets/react-transition-group-a3d248ce.js","assets/@babel-591e0485.js","assets/react-dom-ea7d9bdf.js","assets/scheduler-765c72db.js","assets/@emotion-d65f2bd3.js","assets/hoist-non-react-statics-3f8ebaa8.js","assets/stylis-79144faa.js"])),O=i.lazy(()=>g(()=>import("./LiveVideo-3eae2a35.js"),["assets/LiveVideo-3eae2a35.js","assets/react-a77fd2f7.js","assets/classnames-bdcd0ee0.js","assets/@mui-8614f4c2.js","assets/clsx-5a9f8d06.js","assets/react-transition-group-a3d248ce.js","assets/@babel-591e0485.js","assets/react-dom-ea7d9bdf.js","assets/scheduler-765c72db.js","assets/@emotion-d65f2bd3.js","assets/hoist-non-react-statics-3f8ebaa8.js","assets/stylis-79144faa.js"])),Be=({children:d})=>{const a=te(),m=["/AdminLoginForm","/new-registration","/main-program","/data-analysis","/mam-data-analysis","/LiveVideo","/PlayBackVideo"].includes(a.pathname);return e.jsxs(e.Fragment,{children:[a.pathname==="/"?e.jsx(S,{}):m?e.jsx(De,{}):e.jsx(S,{}),d]})},Re=()=>e.jsx(J,{children:e.jsxs(ke,{children:[e.jsxs(Be,{children:[" ",e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."}),children:e.jsxs(ee,{children:[e.jsx(x,{path:"/",element:e.jsx(Ee,{})}),e.jsx(x,{path:"/AdminLoginForm",element:e.jsx(Ie,{})}),e.jsx(x,{path:"/login-options",element:e.jsx(_e,{})}),e.jsx(x,{path:"/livevideo",element:e.jsx(b,{children:e.jsx(O,{})})}),e.jsx(x,{path:"/new-registration",element:e.jsx(b,{children:e.jsx(Pe,{})})}),e.jsx(x,{path:"/main-program",element:e.jsx(b,{children:e.jsx(Ae,{})})}),e.jsx(x,{path:"/data-analysis",element:e.jsx(b,{children:e.jsx(Ce,{})})}),e.jsx(x,{path:"/mam-data-analysis",element:e.jsx(b,{children:e.jsx(Le,{})})}),e.jsx(x,{path:"/PlayBackVideo",element:e.jsx(b,{children:e.jsx(Me,{})})}),e.jsx(x,{path:"/livevideo",element:e.jsx(b,{children:e.jsx(O,{})})})]})})]}),e.jsx(Ne,{})]})}),Se=Y(document.getElementById("root")),Oe=d=>{window.location.href="https://localhost:5000/login-options"};Se.render(e.jsx(G,{domain:"dev-dedaezfkps23cxcu.us.auth0.com",clientId:"KexQt69RUglMtDtcTLm5P1tbtk0YTUUd",authorizationParams:{redirect_uri:window.location.origin},onRedirectCallback:Oe,children:e.jsx(Re,{})}));
